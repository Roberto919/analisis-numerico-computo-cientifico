

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1.2 Sistema de punto flotante</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/mystnb.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.3 Normas vectoriales y matriciales" href="../1.3/Normas_vectoriales_y_matriciales.html" />
    <link rel="prev" title="1.1 Análisis numérico y cómputo científico" href="../1.1/Analisis_numerico_y_computo_cientifico.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../README.html">
   Optimización
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  I. Cómputo científico
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../1.1/Analisis_numerico_y_computo_cientifico.html">
   1.1 Análisis numérico y cómputo científico
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1.2 Sistema de punto flotante
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1.3/Normas_vectoriales_y_matriciales.html">
   1.3 Normas vectoriales y matriciales
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1.4/Condicion_de_un_problema_y_estabilidad_de_un_algoritmo.html">
   1.4 Condición de un problema y estabilidad de un algoritmo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1.5/Definicion_de_funcion_continuidad_derivada.html">
   1.5 Definición de función, continuidad y derivada
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1.6/Polinomios_de_Taylor_y_diferenciacion_numerica.html">
   1.6 Polinomios de Taylor y diferenciación numérica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1.7/Integracion_numerica.html">
   1.7 Integración Numérica
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  II. Cómputo matricial
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../II.computo_matricial/2.1/Operaciones_y_transformaciones_basicas_del_Algebra_Lineal_Numerica.html">
   2.1 Operaciones y transformaciones básicas del Álgebra Lineal Numérica
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../II.computo_matricial/2.2/Eigenvalores_y_eigenvectores.html">
   2.2 Eigenvalores y eigenvectores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../II.computo_matricial/2.3/Algoritmos_y_aplicaciones_de_eigenvalores_eigenvectores_de_una_matriz.html">
   2.3 Algoritmos y aplicaciones de eigenvalores y eigenvectores de una matriz
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../II.computo_matricial/2.4/Valores_vectores_singulares_y_algoritmos_para_calcular_la_SVD.html">
   2.4 Valores, vectores singulares y algoritmos para calcular la SVD
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  III. Optimización convexa
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../III.optimizacion_convexa/3.1/Definicion_de_problema_optimizacion_conjuntos_y_funciones_convexas.html">
   3.1 Definición de problemas de optimización, conjuntos y funciones convexas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../III.optimizacion_convexa/3.2/Algoritmos_de_descenso_y_busqueda_de_linea_funciones_convexas.html">
   3.2 Algoritmos de descenso y búsqueda de línea para funciones convexas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../III.optimizacion_convexa/3.3/Ecuaciones_no_lineales.html">
   3.3 Ecuaciones no lineales
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/I.computo_cientifico/1.2/Sistema_de_punto_flotante.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/palmoreck/dockerfiles-for-binder/jupyterlab_optimizacion?urlpath=lab/tree/analisis-numerico-computo-cientifico/libro_optimizacion/temas/I.computo_cientifico/1.2/Sistema_de_punto_flotante.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> On this page
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representacion-de-los-numeros-en-la-computadora">
   Representación de los números en la computadora
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enteros">
     Enteros
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reales">
     Reales
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sistema-de-punto-flotante-spf">
   Sistema de punto flotante (SPF)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ejemplo">
     Ejemplo
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spfn">
   SPFN
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Ejemplo
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#numeros-de-maquina-binarios">
   Números de máquina binarios
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Ejemplo
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#valores-interesantes-en-un-spfn-de-doble-precision">
   Valores interesantes en un SPFN de doble precisión
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#epsilon-de-la-maquina-epsilon-maq">
     Epsilon de la máquina
     <span class="math notranslate nohighlight">
      \(\epsilon_{maq}\)
     </span>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reglas-de-corte-y-redondeo">
   Reglas de corte y redondeo
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Ejemplo
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aritmetica-de-maquina">
   Aritmética de máquina.
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     Ejemplo
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#listando-algunos-problemas-tipicos-que-se-presentan-en-la-aritmetica-de-maquina-se-tienen">
     Listando algunos problemas típicos que se presentan en la aritmética de máquina se tienen:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#posibles-soluciones">
     Posibles soluciones:
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="sistema-de-punto-flotante">
<span id="spf"></span><h1>1.2 Sistema de punto flotante<a class="headerlink" href="#sistema-de-punto-flotante" title="Permalink to this headline">¶</a></h1>
<div class="admonition-notas-para-contenedor-de-docker admonition">
<p class="admonition-title">Notas para contenedor de docker:</p>
<p>Comando de docker para ejecución de la nota de forma local:</p>
<p>nota: cambiar <code class="docutils literal notranslate"><span class="pre">&lt;ruta</span> <span class="pre">a</span> <span class="pre">mi</span> <span class="pre">directorio&gt;</span></code> por la ruta de directorio que se desea mapear a <code class="docutils literal notranslate"><span class="pre">/datos</span></code> dentro del contenedor de docker.</p>
<p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">--rm</span> <span class="pre">-v</span> <span class="pre">&lt;ruta</span> <span class="pre">a</span> <span class="pre">mi</span> <span class="pre">directorio&gt;:/datos</span> <span class="pre">--name</span> <span class="pre">jupyterlab_optimizacion</span> <span class="pre">-p</span> <span class="pre">8888:8888</span> <span class="pre">-d</span> <span class="pre">palmoreck/jupyterlab_optimizacion:2.1.4</span></code></p>
<p>password para jupyterlab: <code class="docutils literal notranslate"><span class="pre">qwerty</span></code></p>
<p>Detener el contenedor de docker:</p>
<p><code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">stop</span> <span class="pre">jupyterlab_optimizacion</span></code></p>
<p>Documentación de la imagen de docker <code class="docutils literal notranslate"><span class="pre">palmoreck/jupyterlab_optimizacion:2.1.4</span></code> en <a class="reference external" href="https://github.com/palmoreck/dockerfiles/tree/master/jupyterlab/optimizacion">liga</a>.</p>
</div>
<hr class="docutils" />
<p>Nota generada a partir de <a class="reference external" href="https://www.dropbox.com/s/9fsupm3bhwmv7cb/1.2.Sistema_de_punto_flotante.pdf?dl=0">liga</a></p>
<div class="tip admonition">
<p class="admonition-title">Al final de esta nota el y la lectora:</p>
<ul class="simple">
<li><p>Relacionará el error por redondeo revisado en la nota de <a class="reference internal" href="../1.1/Analisis_numerico_y_computo_cientifico.html#ancc"><span class="std std-ref">análisis numérico y cómputo científico</span></a> con el uso de recursos finitos en la máquina.</p></li>
<li><p>Comprenderá el por qué la máquina tiene errores en el cálculo de las aproximaciones. En específico conocer cómo se representan a los números reales en la máquina es muy importante.</p></li>
<li><p>Aprenderá los componentes de un sistema de punto flotante. En específico la precisión es muy importante.</p></li>
<li><p>Aprenderá la interpretación de un error relativo y cómo relacionarlo con la precisión de un sistema de punto flotante.</p></li>
<li><p>Aprenderá algunas operaciones que tienen un alto error por redondeo en la aritmética de máquina.</p></li>
</ul>
</div>
<div class="section" id="representacion-de-los-numeros-en-la-computadora">
<h2>Representación de los números en la computadora<a class="headerlink" href="#representacion-de-los-numeros-en-la-computadora" title="Permalink to this headline">¶</a></h2>
<p>Las computadoras utilizan una determinada cantidad de cifras de un número real para realizar operaciones. Además, utilizan una representación de los números en bases no usadas por las personas para realizar cálculos comunes, ejemplos son la <strong>2, 8 o 16</strong>.  En contraste, la mayoría de las personas utilizamos la base <strong>10</strong> para representar a los números y realizar cálculos.</p>
<p>A continuación se muestran construcciones que se han hecho para representar los números en una computadora.</p>
<div class="section" id="enteros">
<h3>Enteros<a class="headerlink" href="#enteros" title="Permalink to this headline">¶</a></h3>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Otro método para representar a los números enteros es el <a class="reference external" href="https://en.wikipedia.org/wiki/Two%27s_complement">complemento de dos</a> que incorpora en forma directa el signo dentro de la magnitud del número, en lugar de emplear un bit adicional para representar el signo.</p>
</div>
<p>Tenemos distintos métodos para la representación de los enteros en una computadora, pero uno que es más utilizado es el de “magnitud con signo” en el que se utiliza un bit para el signo del número y los bits restantes para almacenar al número. El primer bit se le da el valor de <span class="math notranslate nohighlight">\(0\)</span> para  codificar al signo <code class="docutils literal notranslate"><span class="pre">+</span></code> y el valor <span class="math notranslate nohighlight">\(1\)</span> codifica al bit <code class="docutils literal notranslate"><span class="pre">-</span></code>. Entonces el número <span class="math notranslate nohighlight">\(-173\)</span> se almacena con la cadena de <span class="math notranslate nohighlight">\(16\)</span> bits:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
<th class="text-align:center head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
</tr>
</tbody>
</table>
<p>Utilizamos la notación posicional para convertir este número binario a base 10: el primer bit es <span class="math notranslate nohighlight">\(1\)</span> por lo que se tiene un signo negativo. Luego:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{eqnarray}
0*2^{14} + 0*2^{13} + \dots+ 1*2^7+0*2^6+ 1*2^5+0*2^4+1*2^3+1*2^2+0*2^1+1*2^0 &amp;=&amp; \nonumber \\
1*2^7+ 1*2^5+1*2^3+1*2^2+1*2^0 &amp;=&amp; \nonumber \\
173 \nonumber
\end{eqnarray}
\end{split}\]</div>
<ul class="simple">
<li><p>Puedes usar “C” con jupyter notebooks</p></li>
<li><p>La ventaja es que aquí mismo puedes compilar y toda la cosa</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;suma: </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>suma: 173.000000
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Ejercicio</p>
<p>Determina el rango de enteros de base <span class="math notranslate nohighlight">\(10\)</span> que puede representarse en una computadora de <span class="math notranslate nohighlight">\(16\)</span> bits utilizando el primer bit para el signo</p>
</div>
<ul class="simple">
<li><p>Para el más grande solo hay que llenar con “1’s” todo el arreglo salvo el primer número.</p></li>
<li><p>Para el más chico es lo mismo que el más grande, solo cambia que el primer dígito es 1 para asignar valor negativo.</p></li>
<li><p>Este ejercicio es importante para estar conscientes de que tenemos un rango de números disponibles.</p></li>
</ul>
</div>
<div class="section" id="reales">
<h3>Reales<a class="headerlink" href="#reales" title="Permalink to this headline">¶</a></h3>
<p>Dadas las limitaciones en el almacenamiento de una computadora (hardware), sólo se representa un subconjunto de los números reales en ella, tal conjunto se denota como <span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span> y contiene números racionales:</p>
<div class="math notranslate nohighlight">
\[\mathcal{F}\mathcal{l} \subset \mathbb{Q} \subset \mathbb{R}.\]</div>
<ul class="simple">
<li><p>Los números de punto flotante son un suconjunto de los racionales, los cuales a su vez son un subconjunto de los reales.</p></li>
</ul>
<div class="sidebar">
<p class="sidebar-title">Un poco de historia…</p>
<p>En 1985 la IEEE publicó un estándar de nombre <a class="reference external" href="https://standards.ieee.org/standard/754-1985.html">Binary Floating Point Arithmetic Standard 754-1985</a> y ha habido más estándares publicados, siendo el más reciente el <a class="reference external" href="https://standards.ieee.org/standard/754-2019.html">IEEE 754-2019</a>. El estándar <span class="math notranslate nohighlight">\(754-1985\)</span> proveía estándares para números de punto flotante binarios y decimales, formatos para intercambio de datos, algoritmos para operaciones de redondeo y manejo de excepciones. Los formatos se especificaron para precisiones simple, doble y extendida y tales estándares son seguidos por las manufactureras de computadoras que utilizan el hardware de punto flotante:</p>
<p>“…A family of commercially feasible ways for new systems to perform binary floating-point arithmetic is defined. This standard specifies basic and extended floating-point number formats; add, subtract, multiply, divide, square root, remainder, and compare operations; conversions between integer and floating-point formats; conversions between different floating-point formats; conversions between basic-format floating-point numbers and decimal strings; and floating-point exceptions and their handling, including nonnumbers…” (estándar <span class="math notranslate nohighlight">\(754-1985\)</span>)</p>
</div>
</div>
</div>
<div class="section" id="sistema-de-punto-flotante-spf">
<h2>Sistema de punto flotante (SPF)<a class="headerlink" href="#sistema-de-punto-flotante-spf" title="Permalink to this headline">¶</a></h2>
<p>En un sistema de punto flotante se define:</p>
<ol class="simple">
<li><p>Rango de un exponente definido por un límite inferior y uno superior.</p></li>
<li><p>Base del sistema.</p></li>
<li><p>Precisión.</p></li>
</ol>
<p>Así, un número <span class="math notranslate nohighlight">\(x\)</span> en el SPF, <span class="math notranslate nohighlight">\(x \in \mathcal{F}\mathcal{l}\)</span>, se representa de la forma:</p>
<div class="math notranslate nohighlight">
\[\pm 0.d_1d_2 \dots d_k \times \beta^n .\]</div>
<p>donde:</p>
<p><span class="math notranslate nohighlight">\(n\)</span> es el exponente, <span class="math notranslate nohighlight">\(n \in [L,U] \cap \mathbb{Z}\)</span> con <span class="math notranslate nohighlight">\(L, U\)</span> fijos.</p>
<p><span class="math notranslate nohighlight">\(k\)</span> es la precisión.</p>
<p><span class="math notranslate nohighlight">\(\beta\)</span> es la base.</p>
<p><span class="math notranslate nohighlight">\(d_i \in \{0,1,\dots,\beta-1\} \forall i=1,\dots,k\)</span> son los dígitos.</p>
<div class="admonition-definicion admonition">
<p class="admonition-title">Definición</p>
<p>A la parte <span class="math notranslate nohighlight">\(\pm 0.d_1d_2 \dots d_k\)</span> se le nombra <strong>mantisa</strong>. A la porción <span class="math notranslate nohighlight">\(d_2 \dots d_k\)</span> se le nombra <strong>fracción</strong> <span class="math notranslate nohighlight">\(f\)</span>.</p>
</div>
<p>Los números reales que tienen una representación exacta en el <span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span> se les conoce como <strong>números de máquina</strong>.</p>
<ul class="simple">
<li><p>En el sistema de punto flotante la notación científica es muy importante</p></li>
</ul>
<div class="section" id="ejemplo">
<h3>Ejemplo<a class="headerlink" href="#ejemplo" title="Permalink to this headline">¶</a></h3>
<p>Supóngase un <span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span> con <span class="math notranslate nohighlight">\(\beta = 10, k=4, n\in[-4,3]\cap \mathbb{Z}\)</span> entonces:</p>
<div class="math notranslate nohighlight">
\[0.3330 \times 10^{-1} , 0.3300 \times 10^{3} \in \mathcal{F}\mathcal{L}\]</div>
<p>pero:</p>
<div class="math notranslate nohighlight">
\[\frac{1}{3} \notin \mathcal{F}\mathcal{l}\]</div>
<p>por lo que <span class="math notranslate nohighlight">\(0.333 \times 10^{-1} , 0.3300 \times 10^{3}\)</span> son números de máquina.</p>
</div>
</div>
<div class="section" id="spfn">
<h2>SPFN<a class="headerlink" href="#spfn" title="Permalink to this headline">¶</a></h2>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>La representación normalizada permite una representación única de los números reales en el <span class="math notranslate nohighlight">\(\mathcal{F}{l}\)</span>:</p>
<p>el número <span class="math notranslate nohighlight">\(0.343 \times 10^{-3}\)</span> como se vio en el ejemplo <span class="math notranslate nohighlight">\(1)\)</span> está en <span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span> pero ni <span class="math notranslate nohighlight">\(0.0343 \times 10^{-2}\)</span> ni <span class="math notranslate nohighlight">\(3.43 \times 10^{-4}\)</span> están en el <span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span>.</p>
</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(d_1\)</span> no se permite que sea 0</p></li>
</ul>
<p>Un Sistema de Punto Flotante Normalizado es aquel que cumple:</p>
<div class="math notranslate nohighlight">
\[d_1 \in \{1,2,\dots \beta -1\}\]</div>
<p>para números distintos de cero.</p>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>El número cero es el único que tiene dígitos de la mantisa y exponente iguales a cero.</p>
</div>
<div class="section" id="id1">
<h3>Ejemplo<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><span class="math notranslate nohighlight">\(\beta = 10, k=3\)</span>, rango del exponente en <span class="math notranslate nohighlight">\([-3,3] \cap \mathbb{Z}\)</span>, entonces algunos números en el SPFN:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Notación de punto flotante</p></th>
<th class="text-align:center head"><p>Mantisa</p></th>
<th class="text-align:center head"><p>Exponente</p></th>
<th class="text-align:center head"><p>Valor de punto fijo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.153\times10^0\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.153\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(0\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.153\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p><span class="math notranslate nohighlight">\(-0.990\times10^2\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(-0.990\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(2\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(-99.0\)</span></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.343\times10^{-3}\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.343\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(-3\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(0.000343\)</span></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Hay que notar que la presición está en la mantisa.</p></li>
<li><p>Si usamos el sistema normalizado, solo habrá una representación para cada número; en caso contrario habrá muchas representaciones.</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathcal{F}\mathcal{l}\)</span> está compuesto por todos los números de máquina.</p></li>
</ul>
<div class="margin sidebar">
<p class="sidebar-title"><strong>Nota</strong></p>
<p>Se utiliza <span class="math notranslate nohighlight">\((\cdot)_{10}\)</span> para representar un número en base 10 pero típicamente se omite escribir paréntesis y la base.</p>
</div>
</div>
<div class="section" id="id2">
<h3>Ejemplo<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>En un SPFN con <span class="math notranslate nohighlight">\(\beta=2, k=3\)</span>, rango del exponente en <span class="math notranslate nohighlight">\([0,2] \cap \mathbb{Z}\)</span> se tiene:</p>
<p>a) El número más grande positivo que es posible representar es:</p>
<div class="math notranslate nohighlight">
\[0.111 \times 2^2 = (11.1)_2 = 1*2^1 + 1*2^0 + 1*2^{-1} = (3.5)_{10}.\]</div>
<p>b) El más chico positivo es:</p>
<div class="math notranslate nohighlight">
\[0.100 \times 2^0 = (0.1)_2 = 1*2^{-1} = (0.5)_{10}.\]</div>
<ul class="simple">
<li><p>Hay que notar que el exponente “-1” en el ejemplo “b)” es por la posición del número que queremos representar.</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>En un SPFN con <span class="math notranslate nohighlight">\(\beta=2\)</span> no es necesario almacenar el primer bit pues siempre es <span class="math notranslate nohighlight">\(1\)</span> por lo que sólo se almacenará la parte fraccionaria de la forma <span class="math notranslate nohighlight">\(1.f\)</span> (más sobre esto en la siguiente sección).</p>
</div>
<ul class="simple">
<li><p>Conclusiones que podemos sacar</p>
<ul>
<li><p>Tenemos un numero más grande positivo y más chico positivo que podemos representar si nos dan una base y una posición.</p></li>
<li><p>En una máquina tenemos más bits disponibles pero también se puede determinar un límite superior y uno inferior.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="numeros-de-maquina-binarios">
<h2>Números de máquina binarios<a class="headerlink" href="#numeros-de-maquina-binarios" title="Permalink to this headline">¶</a></h2>
<p>Un SPF de doble precisión utiliza 64 bits para representar un número real. El primero es un indicador de signo denotado por <span class="math notranslate nohighlight">\(s\)</span>. Le siguen <span class="math notranslate nohighlight">\(11\)</span> bits para construir al exponente <span class="math notranslate nohighlight">\(n\)</span> y <span class="math notranslate nohighlight">\(52\)</span> bits que construyen a la parte fraccionaria <span class="math notranslate nohighlight">\(f\)</span> de la mantisa. La base es <span class="math notranslate nohighlight">\(\beta=2\)</span>.</p>
<p>Si es SPFN entonces aunque se tienen 52 bits, éstos se utilizan para almacenar un dígito más del número (ver <strong>Observación</strong> anterior). Así, en un SPF en general maneja 52 (o 53 si se usa la <strong>Observación</strong> anterior) dígitos binarios, que corresponden a aproximadamente 15 (o 16) dígitos decimales. Ver: <a class="reference external" href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format">Double-precision floating-point format</a>.</p>
<ul class="simple">
<li><p>Debido a que estamos en base 2, estamos usando el truco de no guardar <span class="math notranslate nohighlight">\(d_1\)</span> (eficiencia)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;52 bits corresponden aproximadamente a: </span><span class="si">%f</span><span class="s2"> dígitos decimales</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">log10</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">52</span><span class="p">)));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;53 bits corresponden aproximadamente a: </span><span class="si">%f</span><span class="s2"> dígitos decimales</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">log10</span><span class="p">(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">53</span><span class="p">)));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>52 bits corresponden aproximadamente a: 15.653560 dígitos decimales
53 bits corresponden aproximadamente a: 15.954590 dígitos decimales
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Todos los números que escribamos lo tendremos a una precisión de 15-16 decimales.</p></li>
</ul>
<p>Los 11 bits que se utilizan para construir al exponente producen un rango de <span class="math notranslate nohighlight">\(0\)</span> a <span class="math notranslate nohighlight">\(2^{11}-1=2047:\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="nb">int</span> <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nb">int</span> <span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span>
    <span class="nb">int</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="nb">sum</span><span class="o">+=</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Suma de 2^0 + 2^1 + ... + 2^10: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">sum</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Suma de 2^0 + 2^1 + ... + 2^10: 2047
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>El problema con este rango es que vamos a tener un hueco de 0 a 1.</p></li>
<li><p>Es por eso que aplicamos un truco para rellenar el espacio vacío mencionado.</p></li>
<li><p>Los exponentes los guardas como positivos y tienes ya guardado en otra pate el “-1,023” para hacer la resta.</p></li>
</ul>
<p>pero esto construye un exponente con signo positivo, por lo que se resta (<em>offset</em>) la cantidad de <span class="math notranslate nohighlight">\(-1023\)</span> y se tiene el rango del exponente en <span class="math notranslate nohighlight">\([-1023,1024] \cap \mathbb{Z}\)</span>:</p>
<div class="math notranslate nohighlight">
\[2^{n-1023}.\]</div>
<p>Y un valor de <span class="math notranslate nohighlight">\(n=1023\)</span> representa un exponente de <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>Los valores <span class="math notranslate nohighlight">\(-1023\)</span> (todos los bits iguales a <span class="math notranslate nohighlight">\(0\)</span>) y <span class="math notranslate nohighlight">\(1024\)</span> (todos los bits iguales a <span class="math notranslate nohighlight">\(1\)</span>) para el exponente se reservan para números especiales. Por esto, el exponente corre en el rango de <span class="math notranslate nohighlight">\([-1022, 1023] \cap \mathbb{Z}\)</span>.</p>
<p>Todos los bits iguales a 0 para el exponente se utiliza para representar al número 0 con signo (si su fracción <span class="math notranslate nohighlight">\(f\)</span> es <span class="math notranslate nohighlight">\(0\)</span>) y a los números subnormales (si su fracción <span class="math notranslate nohighlight">\(f\)</span> es <span class="math notranslate nohighlight">\(\neq0\)</span>). Todos los bits iguales a 1 se utiliza para representar <span class="math notranslate nohighlight">\(\infty\)</span> (si su fracción <span class="math notranslate nohighlight">\(f\)</span> es <span class="math notranslate nohighlight">\(0\)</span>) y NaNs (si su fracción <span class="math notranslate nohighlight">\(f\)</span> <span class="math notranslate nohighlight">\(\neq 0\)</span>).</p>
<p>Entonces un número de máquina binario en un SPFN se representa por:</p>
<div class="math notranslate nohighlight">
\[(-1)^s2^{n-1023}(1+f)\]</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Los números subnormales son todos aquellos números con magnitud menor al número más chico positivo normalizado. Con estos números se sacrifica precisión por representatividad alrededor del <span class="math notranslate nohighlight">\(0\)</span>. Para representar a estos números <span class="math notranslate nohighlight">\(d_1\)</span> no es igual a <span class="math notranslate nohighlight">\(1\)</span>.</p>
</div>
<p>Y los subnormales como:</p>
<div class="math notranslate nohighlight">
\[(-1)^s2^{1-1023}(0+f)=(-1)^s2^{-1022}f.\]</div>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>Obsérvese que aunque el exponente para los números subnormales se describió que tiene bits iguales a <span class="math notranslate nohighlight">\(0\)</span> se toma una <span class="math notranslate nohighlight">\(n=1\)</span> para finalmente tener el exponente <span class="math notranslate nohighlight">\(n-1023 = 1-1023 = -1022\)</span>. Esto se realiza para tener un <em>gradual underflow</em>, ver <a class="reference external" href="https://en.wikipedia.org/wiki/Denormal_number">Denormal_number</a>. Si se tomara de forma estricta <span class="math notranslate nohighlight">\(n=0\)</span> (bits iguales a <span class="math notranslate nohighlight">\(0\)</span>) y por tanto un exponente <span class="math notranslate nohighlight">\(n-1023=-1023\)</span> habría un hueco entre el número positivo más pequeño normalizado y el más grande positivo subnormal:</p>
<div class="math notranslate nohighlight">
\[0 00000000001 0000000000000000000000000000000000000000000000000000\]</div>
<div class="math notranslate nohighlight">
\[0 00000000000 1111111111111111111111111111111111111111111111111111\]</div>
<p>respectivamente. Lo anterior extraído de <a class="reference external" href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format#Double-precision_examples">Double precision examples</a>.</p>
</div>
<div class="admonition-comentario admonition">
<p class="admonition-title">Comentario</p>
<p>Hay dos representaciones para el <span class="math notranslate nohighlight">\(0\)</span>, una con signo positivo (<span class="math notranslate nohighlight">\(s=0, n=0, f=0\)</span>) y otra con signo negativo (<span class="math notranslate nohighlight">\(s=1,n=0,f=0\)</span>).</p>
</div>
<div class="section" id="id3">
<h3>Ejemplo<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>El valor del exponente más chico para los números normales es: <span class="math notranslate nohighlight">\(2^{1-1023} = 2^{-1022}\)</span>.</p></li>
<li><p>El valor del exponente más grande es: <span class="math notranslate nohighlight">\(2^{2046-1023} = 2^{1023}\)</span>.</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>Ejemplo<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Considérese el número formado por:</p>
<p>primer bit: <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>bits del exponente: <span class="math notranslate nohighlight">\(10000000011\)</span>.</p>
<p>bits de la mantisa: <span class="math notranslate nohighlight">\(1011100100010\dots0\)</span>.</p>
<p>Entonces:</p>
<ol class="simple">
<li><p>El número es positivo pues <span class="math notranslate nohighlight">\(s=0\)</span>: <span class="math notranslate nohighlight">\((-1)^s = 1\)</span>.</p></li>
<li><p>Los bits del exponente generan al número decimal:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[n = 1*2^{10} + 0*2^9+\dots+0*2^2+1*2^1+1*2^0=1024+2+1=1027\]</div>
<p>por lo que el exponente es <span class="math notranslate nohighlight">\(4\)</span>: <span class="math notranslate nohighlight">\(2^{1027-1023}=2^4\)</span>.</p>
<ol class="simple">
<li><p>Los bits de la mantisa generan al número decimal:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[1*2^{-1} + 1*2^{-3}+1*2^{-4}+1*2^{-5}+1*2^{-8} + 1*2^{-12} = 0.7229.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Suma de 2^-1 + 2^-3 + 2^-4+2^-5+2^-8+2^-12: </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span><span class="o">+</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">12</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Suma de 2^-1 + 2^-3 + 2^-4+2^-5+2^-8+2^-12: 0.722900
</pre></div>
</div>
</div>
</div>
<p>Entonces el número de máquina binario <span class="math notranslate nohighlight">\(0\)</span> <span class="math notranslate nohighlight">\(10000000011\)</span> <span class="math notranslate nohighlight">\(1011100100010\dots0\)</span> es el número decimal:</p>
<div class="math notranslate nohighlight">
\[(-1)^s2^{n-1023}(1+f)=(-1)^{0}2^{4}(1+0.7229) =27.5664 \]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;2^4(1.7229): </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="mf">1.7229</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>2^4(1.7229): 27.566400
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="valores-interesantes-en-un-spfn-de-doble-precision">
<h2>Valores interesantes en un SPFN de doble precisión<a class="headerlink" href="#valores-interesantes-en-un-spfn-de-doble-precision" title="Permalink to this headline">¶</a></h2>
<p>El número de máquina más grande positivo normalizado es:</p>
<div class="math notranslate nohighlight">
\[2^{1023}(1+(2^{-1}+\dots+2^{-52}))=2^{1023}(1+(1-2^{-52})) = 2^{1023}(2-2^{-52}) \approx 1.7977 \times 10^{308}.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Numéro más grande positivo: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">DBL_MAX</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Numéro más grande positivo: 1.797693e+308
</pre></div>
</div>
</div>
</div>
<p>Números que rebasen este límite superior resultan en un <strong>overflow</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;overflow: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">DBL_MAX</span> <span class="o">+</span> <span class="mf">0.0000000000000001</span><span class="o">*</span><span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">308</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>overflow: inf
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Ejercicio</p>
<p>Da más ejemplos de ejecuciones como la anterior que resulten en overflow.</p>
</div>
<p>El número de máquina <strong>normalizado</strong> más pequeño positivo es:</p>
<div class="math notranslate nohighlight">
\[2^{-1022}(1+0) \approx 2.2251 \times 10^{-308}.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Numéro normalizado más chico positivo: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">DBL_MIN</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Numéro normalizado más chico positivo: 2.225074e-308
</pre></div>
</div>
</div>
</div>
<p>El número de máquina no normalizado o <strong>subnormalizado</strong> más chico positivo es del orden de</p>
<div class="math notranslate nohighlight">
\[2^{-1022}(2^{-52})=2^{-1074} \approx 10^{-324}.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Numéro más chico positivo: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">52</span><span class="p">)</span><span class="o">*</span><span class="n">DBL_MIN</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Numéro más chico positivo: 4.940656e-324
</pre></div>
</div>
</div>
</div>
<p>Números con magnitud más chica que el valor anterior resultan en un <strong>underflow</strong>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Underflow: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,(</span><span class="mi">1</span><span class="o">-.</span><span class="mi">5</span><span class="p">)</span><span class="o">*</span><span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">52</span><span class="p">)</span><span class="o">*</span><span class="n">DBL_MIN</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Underflow: 0.000000e+00
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Ejercicio</p>
<p>Da más ejemplos de ejecuciones como la anterior que resulten en underflow.</p>
</div>
<div class="section" id="epsilon-de-la-maquina-epsilon-maq">
<h3>Epsilon de la máquina <span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span><a class="headerlink" href="#epsilon-de-la-maquina-epsilon-maq" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Epsilon de la máquina equivale aproximadamente a 2^(-53): </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">DBL_EPSILON</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Epsilon de la máquina equivale aproximadamente a 2^(-53): 1.110223e-16
</pre></div>
</div>
</div>
</div>
<p>El valor anterior representa el máximo <strong>error relativo</strong> en la representación de un número real en su número de máquina. Como se observa en la ejecución anterior <span class="math notranslate nohighlight">\(\epsilon_{maq} \approx 2^{-53} \approx 1.11 \times 10 ^{-16}\)</span> por lo que tenemos alrededor de <span class="math notranslate nohighlight">\(15\)</span> o <span class="math notranslate nohighlight">\(16\)</span> dígitos de precisión para un número real en el SPFN de doble precisión.</p>
<div class="admonition-definicion admonition">
<p class="admonition-title">Definición</p>
<p>Si <code class="docutils literal notranslate"><span class="pre">aprox</span></code> es mi cantidad con la que aproximo a mi objetivo <code class="docutils literal notranslate"><span class="pre">obj</span></code> entonces el error absoluto de <code class="docutils literal notranslate"><span class="pre">aprox</span></code> y el error relativo de <code class="docutils literal notranslate"><span class="pre">aprox</span></code> es:</p>
<div class="math notranslate nohighlight">
\[ErrAbs(aprox) = |aprox - obj|.\]</div>
<div class="math notranslate nohighlight">
\[ErrRel(aprox) = \frac{ErrAbs(aprox)}{|obj|}.\]</div>
<p>En la definición anterior de error relativo se asume <code class="docutils literal notranslate"><span class="pre">obj</span></code> es diferente de <span class="math notranslate nohighlight">\(0\)</span>.</p>
<p>Si <span class="math notranslate nohighlight">\(ErrRel(aprox) \approx 10^{-k}\)</span> se dice que <code class="docutils literal notranslate"><span class="pre">aprox</span></code> aproxima a <code class="docutils literal notranslate"><span class="pre">obj</span></code> con alrededor de <span class="math notranslate nohighlight">\(k\)</span> dígitos correctos.</p>
</div>
<ul class="simple">
<li><p>Todas las máquinas tendrán estos valores especiales que estamos viendo</p></li>
</ul>
<div class="admonition-comentarios admonition">
<p class="admonition-title">Comentarios</p>
<p>Otras definiciones para <span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span> son:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span> es el número más chico positivo tal que: <span class="math notranslate nohighlight">\(1 + \epsilon_{maq} \neq 1\)</span> a precisión de la máquina.</p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span> es la distancia del número <span class="math notranslate nohighlight">\(1\)</span> al siguiente número de máquina.</p></li>
</ul>
<p>Aunque las tres definiciones pueden diferir ligeramente, las tres pretenden dar la medida de granularidad de un SPF. Una representación gráfica para números positivos de un SPF es la siguiente:</p>
<img src="https://dl.dropboxusercontent.com/s/bkxfiqni0f8izhi/SPFN_graficamente.png?dl=0" heigth="500" width="500">
</div>
<ul class="simple">
<li><p>Cualquier número entre el 0 y el primer número de máquina se redondeará a 0.</p></li>
<li><p>Todos los números por arriba del número de máquina más grande se va a infinito.</p></li>
<li><p>Los números que caen en los huecos, la máquina tendrá que elegir el número de máquina que quiere utilizar.</p>
<ul>
<li><p>La idea de los algoritmos es que busquemos no amplificar ese error de redondeo.</p></li>
<li><p>Parecería que el error es más grande entre más grandes sean los números que usas, pero en realidad es que, en términos relativos, el error va a ser el mismo.</p></li>
</ul>
</li>
</ul>
<p>Se tienen las siguientes afirmaciones:</p>
<ul class="simple">
<li><p>El intervalo <span class="math notranslate nohighlight">\([1,2]\)</span> en un SPFN de doble precisión está formado por la secuencia de números de máquina: <span class="math notranslate nohighlight">\(1, 1+ 2^{-52}, 1 + 2\times 2^{-52}, 1+ 3\times2^{-52}, \dots, 2\)</span>.</p></li>
<li><p>El intervalo <span class="math notranslate nohighlight">\([2,4]\)</span> en tal sistema está formado por: <span class="math notranslate nohighlight">\(2, 2+ 2^{-51}, 2 + 2\times 2^{-51}, 2+ 3\times2^{-51}, \dots, 4\)</span>.</p></li>
</ul>
<p>Por lo que el intervalo <span class="math notranslate nohighlight">\([2^j, 2^{j+1}]\)</span> se obtiene multiplicando <span class="math notranslate nohighlight">\(2^j\)</span> veces la secuencia en <span class="math notranslate nohighlight">\([1,2]\)</span> y los huecos entre un número de máquina y otro número de máquina no son en términos relativos más grandes que <span class="math notranslate nohighlight">\(2^{-52} \approx 2.22 \times 10^{-16}\)</span>.</p>
<p>Asimismo, el intervalo <span class="math notranslate nohighlight">\([\frac{1}{2}, 1]\)</span> en tal sistema está formado por: <span class="math notranslate nohighlight">\(\frac{1}{2}, \frac{1}{2}+2^{-53},\frac{1}{2}+2\times2^{-53},\frac{1}{2}+3\times2^{-53},\dots , 1\)</span>.</p>
<p>Si continuamos con esta idea puede verificarse que el cociente <span class="math notranslate nohighlight">\(\frac{\text{número de máquina}_{j+1} - \text{número de máquina}_{j}}{2^{j+1}}\)</span> es igual a <span class="math notranslate nohighlight">\(\frac{2^{j-52}}{2^{j+1}} = 2^{-53}\)</span>. Entonces el espaciado entre cada número de máquina en el intervalo <span class="math notranslate nohighlight">\([2^j, 2^{j+1}]\)</span> siempre es menor o igual a <span class="math notranslate nohighlight">\(2^{-53} = \epsilon_{maq}\)</span>.</p>
<p>Una forma computacional de obtener al <span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span> de forma sencilla es con el cálculo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;float.h&gt;</span>
<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Epsilon de la máquina: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mf">3.0</span><span class="o">*</span><span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mf">3.0</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Epsilon de la máquina: 2.220446e-16
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Pregunta</p>
<p>¿Por qué funciona esto? tip: imprímase el cálculo <span class="math notranslate nohighlight">\(3.0*(4/3.0-1)\)</span> con el especificador de formato de la función <code class="docutils literal notranslate"><span class="pre">printf</span></code> <code class="docutils literal notranslate"><span class="pre">%.16f</span></code> o bien <code class="docutils literal notranslate"><span class="pre">%.15e</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="reglas-de-corte-y-redondeo">
<h2>Reglas de corte y redondeo<a class="headerlink" href="#reglas-de-corte-y-redondeo" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Estas son las reglas para que la máquina haga una aproximación cuando caiga en un hueco.</p></li>
</ul>
<p>Al ver el diagrama anterior de la representación gráfica de un SPF se observa que existen huecos entre cada número de máquina. Lo anterior implica que al ingresar un número real <span class="math notranslate nohighlight">\(x\)</span> en la computadora, ésta realiza una aproximación a <span class="math notranslate nohighlight">\(x\)</span> que se encuentre en el SPF. Esta aproximación genera errores conocidos con el nombre de <strong>errores por redondeo</strong>.</p>
<p>Entre las reglas que una computadora realiza para dar las aproximaciones a un número <span class="math notranslate nohighlight">\(x \in \mathbb{R}\)</span> están: la regla de corte y la de redondeo y se pueden representar con funciones matemáticas:</p>
<p><strong>Regla de corte:</strong> sea <span class="math notranslate nohighlight">\(fl_c : \mathbb{R} \rightarrow \mathcal{F}\mathcal{l}\)</span> una función cuya regla de correspondencia es: <span class="math notranslate nohighlight">\(x \in \mathbb{R}\)</span> con <span class="math notranslate nohighlight">\(x\)</span> en el rango de valores del SPF, entonces: <span class="math notranslate nohighlight">\(x = \pm 0.d_1d_2 \dots d_kd_{k+1}\dots \times \beta^n\)</span> y la regla de corte a <span class="math notranslate nohighlight">\(k\)</span> dígitos es: <span class="math notranslate nohighlight">\(fl_c(x) = \pm 0.d_1d_2 \dots d_k\)</span>.</p>
<p><strong>Regla de redondeo:</strong> sean <span class="math notranslate nohighlight">\(\beta=10\)</span> y <span class="math notranslate nohighlight">\(fl_r : \mathbb{R} \rightarrow \mathcal{F}\mathcal{l}\)</span> una función cuya regla de correspondencia es: <span class="math notranslate nohighlight">\(x \in \mathbb{R}\)</span> con <span class="math notranslate nohighlight">\(x\)</span> en el rango de valores del SPF, entonces: <span class="math notranslate nohighlight">\(x = \pm 0.d_1d_2 \dots d_kd_{k+1}\dots \times \beta^n\)</span> y la regla de redondeo es:</p>
<div class="math notranslate nohighlight">
\[\begin{split}f_r(x) = \begin{cases}
\text{sumar uno a } d_k &amp; \text{si } d_{k+1} \geq 5,\\
f_c(x) &amp; \text{en otro caso}
\end{cases}\end{split}\]</div>
<div class="tip admonition">
<p class="admonition-title">Observación</p>
<p>La regla <span class="math notranslate nohighlight">\(fl_r(\cdot)\)</span> también suele definirse como antes y añadiendo la restricción que considera si es par o impar el último dígito en caso de empate, entonces se almacena el par. Lo anterior se conoce como <a class="reference external" href="https://en.wikipedia.org/wiki/Rounding#Round_half_to_even"><em>round half to even</em></a>.</p>
</div>
<div class="section" id="id5">
<h3>Ejemplo<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p><span class="math notranslate nohighlight">\(\pi=3.141592\dots = 0.3141592\dots \times 10^1\)</span>. Si un SPFN usa <span class="math notranslate nohighlight">\(k=5\)</span> entonces:</p>
<div class="math notranslate nohighlight">
\[fl_c(\pi) = 0.31415.\]</div>
<div class="math notranslate nohighlight">
\[fl_r(\pi) = 0.31416.\]</div>
</div>
<div class="section" id="id6">
<h3>Ejemplo<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Supóngase que <span class="math notranslate nohighlight">\(fl_r(\cdot)\)</span> hace diferencia entre el último dígito almacenado es par e impar (<em>round half to even</em>). Entonces para <span class="math notranslate nohighlight">\(k=2\)</span>:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Número: x</p></th>
<th class="text-align:center head"><p>Corte: <span class="math notranslate nohighlight">\(fl_c(x)\)</span></p></th>
<th class="text-align:center head"><p>Redondeo: <span class="math notranslate nohighlight">\(fl_r(x)\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>0.1649</p></td>
<td class="text-align:center"><p>0.16</p></td>
<td class="text-align:center"><p>0.16</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>0.1650</p></td>
<td class="text-align:center"><p>0.16</p></td>
<td class="text-align:center"><p>0.16</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>0.1651</p></td>
<td class="text-align:center"><p>0.16</p></td>
<td class="text-align:center"><p>0.17</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>0.1749</p></td>
<td class="text-align:center"><p>0.17</p></td>
<td class="text-align:center"><p>0.17</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>0.1750</p></td>
<td class="text-align:center"><p>0.17</p></td>
<td class="text-align:center"><p>0.18</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>0.1751</p></td>
<td class="text-align:center"><p>0.17</p></td>
<td class="text-align:center"><p>0.18</p></td>
</tr>
</tbody>
</table>
<p>En la tabla anterior el empate lo encontramos en los casos en los que <span class="math notranslate nohighlight">\(x=0.1650\)</span> y <span class="math notranslate nohighlight">\(x=0.1750\)</span> pues están a la mitad del intervalo <span class="math notranslate nohighlight">\([0.16, 0.17]\)</span> y <span class="math notranslate nohighlight">\([0.17, 0.18]\)</span> respectivamente. Por lo anterior, la regla <span class="math notranslate nohighlight">\(fl_r\)</span> con el <em>round half to even</em> realiza la siguiente asignación:</p>
<ul class="simple">
<li><p>Para el caso <span class="math notranslate nohighlight">\(x=0.1650\)</span> resulta en <span class="math notranslate nohighlight">\(fl_r(x) = 0.16\)</span> pues <span class="math notranslate nohighlight">\(k=2\)</span> y entonces se almacena el dígito <span class="math notranslate nohighlight">\(6\)</span> (par) y no el <span class="math notranslate nohighlight">\(7\)</span>.</p></li>
<li><p>Para el caso <span class="math notranslate nohighlight">\(x=0.1750\)</span> resulta en <span class="math notranslate nohighlight">\(fl_r(x) = 0.18\)</span> pues <span class="math notranslate nohighlight">\(k=2\)</span> y entonces se almacena el dígito <span class="math notranslate nohighlight">\(8\)</span> (par) y no el <span class="math notranslate nohighlight">\(7\)</span>.</p></li>
<li><p>Para los casos <span class="math notranslate nohighlight">\(0.1649,0.1651,0.1749,0.1751\)</span> como no hay empate se aplica la regla <span class="math notranslate nohighlight">\(fl_r\)</span> sin la restricción con lo que resulta en los valores <span class="math notranslate nohighlight">\(0.16,0.17,0.17,0.18\)</span> respectivamente.</p></li>
</ul>
<div class="tip admonition">
<p class="admonition-title">Pregunta</p>
<p>Para el caso en el que <span class="math notranslate nohighlight">\(k=3\)</span> teniendo el punto <span class="math notranslate nohighlight">\(x = 0.16550\)</span> que está a la mitad del intervalo <span class="math notranslate nohighlight">\([0.165,0.166]\)</span> (hay empate) ¿cuál es el resultado de <span class="math notranslate nohighlight">\(fl_r(x)\)</span> con <em>round half to even</em>?</p>
</div>
<p>Por los ejemplos anteriores se puede comprobar que la regla de redondeo tiene menor error que la de corte:</p>
<img src="https://dl.dropboxusercontent.com/s/e8iqxqelkxj1y8r/regla_corte_redondeo.png?dl=0" heigth="500" width="500">
<p>En el dibujo anterior considérese como números de máquina <span class="math notranslate nohighlight">\(x, x-\Delta x, x - \frac{\Delta x}{2}, x+ \frac{\Delta x}{2}, x + \Delta x\)</span>.</p>
<div class="admonition-definicion admonition">
<p class="admonition-title">Definición</p>
<p>Otra expresión utilizada para la regla <span class="math notranslate nohighlight">\(fl(\cdot)\)</span> es a partir de la definición de error relativo: <span class="math notranslate nohighlight">\(aprox = obj(1+ErrRel(aprox))\)</span> (si <span class="math notranslate nohighlight">\(aprox \geq obj\)</span> y <span class="math notranslate nohighlight">\(obj &gt; 0\)</span>):</p>
<div class="math notranslate nohighlight">
\[\forall{x}\in \mathbb{R} \exists \epsilon \in \mathbb{R} \text{ con } |\epsilon| \leq \epsilon_{maq} \text{ tal que: }.\]</div>
<div class="math notranslate nohighlight">
\[fl(x) = x(1+\epsilon), |\epsilon| \leq \epsilon_{maq}.\]</div>
<p>cuya interpretación es: la diferencia entre <span class="math notranslate nohighlight">\(x\)</span> con <span class="math notranslate nohighlight">\(fl(x)\)</span> es un término (en magnitud) de a lo más <span class="math notranslate nohighlight">\(\epsilon_{maq}\)</span> relativo a <span class="math notranslate nohighlight">\(|x|\)</span>.</p>
</div>
<div class="admonition-comentario admonition">
<p class="admonition-title">Comentario</p>
<p>Un resultado que puede verificarse de forma teórica es:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\epsilon_{maq} = \begin{cases}
\beta^{1-k} &amp;\text{ si se utiliza regla de corte},\\
\frac{1}{2}\beta^{1-k} &amp;\text{ si se utiliza la regla de redondeo}
\end{cases}\end{split}\]</div>
<p>Para el caso de un sistema de punto flotante de doble precisión se tiene <span class="math notranslate nohighlight">\(1-k = -52\)</span> esto es: <span class="math notranslate nohighlight">\(k=53\)</span>.</p>
</div>
</div>
<div class="section" id="id7">
<h3>Ejemplo<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Considérese un SPFN con <span class="math notranslate nohighlight">\(\beta=2, k=3\)</span> entonces si se utiliza la regla de corte:</p>
<div class="math notranslate nohighlight">
\[\epsilon_{maq} = \beta^{1-k} = \beta^{-2}=2^{-2}=0.25.\]</div>
<p>si se utiliza la regla de redondeo:</p>
<div class="math notranslate nohighlight">
\[\epsilon_{maq} = \frac{1}{2}\beta^{1-k} = \frac{1}{2}\beta^{-2}=\frac{1}{2}2^{-2}=0.125.\]</div>
</div>
</div>
<div class="section" id="aritmetica-de-maquina">
<h2>Aritmética de máquina.<a class="headerlink" href="#aritmetica-de-maquina" title="Permalink to this headline">¶</a></h2>
<p>Además de representar números reales en la máquina otro objetivo es el de realizar operaciones entre ellos. Si la representación de números tiene un error asociado (error por redondeo) entonces es natural pensar que las operaciones aritméticas también tendrán errores por redondeo. Las razones de los errores son nuevamente el uso de precisión finita y la conversión entre bases: al ingresar números a la computadora se convierte a base <span class="math notranslate nohighlight">\(2\)</span> (por ejemplo), se realizan operaciones y el resultado se presenta en base <span class="math notranslate nohighlight">\(10\)</span>.</p>
<p>Para analizar los errores por redondeo que se presentan en la aritmética de máquina es suficiente considerar la base <span class="math notranslate nohighlight">\(10\)</span>, no conversiones entre bases (por ejemplo de la base <span class="math notranslate nohighlight">\(2\)</span> a la base <span class="math notranslate nohighlight">\(10\)</span>) y utilizar los siguientes operadores y suposiciones:</p>
<p>Supongamos que se tiene un SPFN y <span class="math notranslate nohighlight">\(fl(\cdot)\)</span> regla de corte o redondeo a una precisión <span class="math notranslate nohighlight">\(k\)</span> dada. Sean <span class="math notranslate nohighlight">\(a,b \in \mathbb{R}\)</span>, se definen los siguientes operadores en el SPFN:</p>
<div class="math notranslate nohighlight">
\[\oplus: \mathbb{R}^2 \rightarrow \mathcal{F}\mathcal{l} \quad a \oplus b = fl(fl(a) + fl(b)).\]</div>
<div class="math notranslate nohighlight">
\[\ominus: \mathbb{R}^2 \rightarrow \mathcal{F}\mathcal{l} \quad a \ominus b = fl(fl(a) - fl(b)).\]</div>
<div class="math notranslate nohighlight">
\[\otimes: \mathbb{R}^2 \rightarrow \mathcal{F}\mathcal{l} \quad a \otimes b = fl(fl(a) \cdot fl(b)).\]</div>
<div class="math notranslate nohighlight">
\[\oslash: \mathbb{R}^2 \rightarrow \mathcal{F}\mathcal{l} \quad a \oslash b = fl(fl(a) \div fl(b)).\]</div>
<div class="tip admonition">
<p class="admonition-title">Ejercicio</p>
<p>Considérese <span class="math notranslate nohighlight">\(x = \frac{5}{7} \approx \overline{0.714285}\)</span>, <span class="math notranslate nohighlight">\(y=\frac{1}{3} = \overline{.3}\)</span>, <span class="math notranslate nohighlight">\(u=0.714251, v=98765.9, w=0.111111 \times 10^{-4}\)</span> y un SPFN con <span class="math notranslate nohighlight">\(\beta=10, k=5\)</span>. Entonces llenar la siguiente tabla de acuerdo a las instrucciones:</p>
<ol class="simple">
<li><p>En la columna “Aritmética de máquina con k=8” se realiza aritmética a <span class="math notranslate nohighlight">\(8\)</span> dígitos con las operaciones definidas previamente <span class="math notranslate nohighlight">\(\oplus, \ominus, \otimes, \oslash\)</span> con la regla de corte <span class="math notranslate nohighlight">\(fl_c(\cdot)\)</span>.</p></li>
<li><p>En la columna “Aritmética de máquina con k=5” se realiza aritmética a <span class="math notranslate nohighlight">\(5\)</span> dígitos con las operaciones definidas previamente <span class="math notranslate nohighlight">\(\oplus, \ominus, \otimes, \oslash\)</span> con la regla de corte <span class="math notranslate nohighlight">\(fl_c(\cdot)\)</span>.</p></li>
<li><p>Para el cálculo de errores absoluto y relativo tomar como valor real u objetivo el valor a <span class="math notranslate nohighlight">\(8\)</span> dígitos.</p></li>
</ol>
</div>
<ul class="simple">
<li><p>Para este ejercicio vamos a usar la aproximación a k=8 como el objetivo y la aproximación a k=5 como el aproximado.</p></li>
<li><p>Hay que notar que aquí no estamos considerando el error de convertir a base 2.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">c1</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="nb">round</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">)</span>
<span class="n">c1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>1.04761904
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">c2</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">7</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="nb">round</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">)</span>
<span class="n">c2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>1.04762
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:0.8f}</span><span class="s1">e1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c1</span><span class="o">/</span><span class="mf">1e1</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>0.10476190e1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-9.599999999387876e-07
</pre></div>
</div>
</div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Operación</p></th>
<th class="text-align:center head"><p>Aritmética de máquina con k=8</p></th>
<th class="text-align:center head"><p>Aritmética de máquina con k=5</p></th>
<th class="text-align:center head"><p>Error Absoluto de aprox</p></th>
<th class="text-align:center head"><p>Error Relativo de aprox</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>x <span class="math notranslate nohighlight">\(\oplus\)</span>y</p></td>
<td class="text-align:center"><p>1.04761904</p></td>
<td class="text-align:center"><p>1.04762</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>x<span class="math notranslate nohighlight">\(\ominus\)</span>y</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>x<span class="math notranslate nohighlight">\(\otimes\)</span>y</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>x<span class="math notranslate nohighlight">\(\oslash\)</span>y</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>x<span class="math notranslate nohighlight">\(\ominus\)</span>u</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>(x<span class="math notranslate nohighlight">\(\ominus\)</span>u)<span class="math notranslate nohighlight">\(\oslash\)</span>w</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>(x<span class="math notranslate nohighlight">\(\ominus\)</span>u)<span class="math notranslate nohighlight">\(\otimes\)</span> v</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>u<span class="math notranslate nohighlight">\(\oplus\)</span>v</p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
<td class="text-align:center"><p></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Vemos que para el renglón 5 hay un error bastante grande.</p>
<ul>
<li><p>El problema es que estamos quitando cifras significativas y nos estamos quedando con algunas cifras no tan confiables.</p></li>
</ul>
</li>
<li><p>Cuano aumentamos el número de operaciones estamos también propagando el error.</p></li>
</ul>
<div class="section" id="id8">
<h3>Ejemplo<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>El resultado del primer renglón con aritmética exacta es:</p>
<div class="math notranslate nohighlight">
\[x+y = \frac{5}{7} + \frac{1}{3} = \frac{22}{21} \approx 0.10476190 \times 10^1.\]</div>
<p>Para el llenado de las columnas:</p>
<ol class="simple">
<li><p>Aritmética de máquina a <span class="math notranslate nohighlight">\(8\)</span> dígitos usamos <span class="math notranslate nohighlight">\(k=8\)</span>: <span class="math notranslate nohighlight">\(x \oplus_8 y = fl_c(0.71428571 + 0.33333333) = 0.10476190 \times 10^1\)</span>.</p></li>
<li><p>Aritmética de máquina usamos <span class="math notranslate nohighlight">\(k=5\)</span>: <span class="math notranslate nohighlight">\(x \oplus_5 y = fl_c(fl_c(x)+fl_c(y)) = fl_c(0.71428 + 0.33333) = fl_c(0.104761\times10^1) = 0.10476 \times10^1\)</span>.</p></li>
<li><p>Error absoluto de aprox: <span class="math notranslate nohighlight">\(ErrAbs(x \oplus_5 y) =  |(x \oplus_8) y - (x \oplus_5)| = |0.10476190 \times 10^1 - 0.10476 \times10^1| = |0.00000190| = .190 \times 10^{-5}\)</span>.</p></li>
<li><p>Error relativo de aprox: <span class="math notranslate nohighlight">\(ErrRel(x \oplus_5 y) = \frac{ErrAbs(x \oplus_5 y)}{|x \oplus_8|} =\frac{.190 \times 10^{-5}}{0.10476190 \times 10^1} \approx 1.81 \times 10^{-6} = 0.181 \times 10^{-5}\)</span>.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">cflags</span><span class="p">:</span><span class="o">-</span><span class="n">lm</span>
<span class="c1">#include&lt;stdio.h&gt;</span>
<span class="c1">#include&lt;stdlib.h&gt;</span>
<span class="c1">#include&lt;math.h&gt;</span>

<span class="n">double</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">double</span> <span class="n">a</span><span class="p">,</span> <span class="nb">int</span> <span class="n">k</span><span class="p">){</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">double</span><span class="p">)((</span><span class="nb">int</span><span class="p">)(</span><span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">*</span><span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="n">k</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">double</span> <span class="n">err_abs</span><span class="p">(</span><span class="n">double</span> <span class="n">aprox</span><span class="p">,</span> <span class="n">double</span> <span class="n">obj</span><span class="p">){</span>   
    <span class="k">return</span> <span class="n">fabs</span><span class="p">(</span><span class="n">obj</span><span class="o">-</span><span class="n">aprox</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">double</span> <span class="n">err_rel</span><span class="p">(</span><span class="n">double</span> <span class="n">errabs</span><span class="p">,</span> <span class="n">double</span> <span class="n">obj</span><span class="p">){</span>
    <span class="k">return</span> <span class="n">errabs</span><span class="o">/</span><span class="n">fabs</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">double</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="o">/</span><span class="mf">7.0</span><span class="p">;</span>
    <span class="n">double</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mf">3.0</span><span class="p">;</span>
    <span class="n">double</span> <span class="n">res1</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">double</span> <span class="n">res2</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="nb">int</span> <span class="n">k</span><span class="p">;</span>

    <span class="n">k</span><span class="o">=</span><span class="mi">8</span><span class="p">;</span> <span class="o">//</span><span class="n">precisión</span> <span class="mi">8</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;valor x a 8 dígitos: </span><span class="si">%0.7e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="p">));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;valor y a 8 dígitos: </span><span class="si">%0.7e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">k</span><span class="p">));</span>
    <span class="n">res1</span> <span class="o">=</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">fl_c_k</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="n">fl_c_k</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">k</span><span class="p">),</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="o">//</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span> <span class="n">para</span> <span class="n">seguir</span> <span class="n">manteniendo</span> <span class="mi">5</span> <span class="n">dígitos</span> <span class="n">pues</span> <span class="n">la</span> <span class="n">suma</span> <span class="n">aumenta</span> <span class="n">un</span> <span class="n">dígito</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;x+y a 8 dígitos </span><span class="si">%0.7e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">res1</span><span class="p">);</span>
    
    <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">;</span> <span class="o">//</span><span class="n">precisión</span> <span class="mi">5</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;valor x a 5 dígitos: </span><span class="si">%0.4e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="p">));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;valor y a 5 dígitos: </span><span class="si">%0.4e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">k</span><span class="p">));</span>
    <span class="n">res2</span> <span class="o">=</span> <span class="n">fl_c_k</span><span class="p">(</span><span class="n">fl_c_k</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">+</span><span class="n">fl_c_k</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">k</span><span class="p">),</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="o">//</span><span class="n">k</span><span class="o">-</span><span class="mi">1</span> <span class="n">para</span> <span class="n">seguir</span> <span class="n">manteniendo</span> <span class="mi">5</span> <span class="n">dígitos</span> <span class="n">pues</span> <span class="n">la</span> <span class="n">suma</span> <span class="n">aumenta</span> <span class="n">un</span> <span class="n">dígito</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;x+y a 5 dígitos </span><span class="si">%0.4e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">res2</span><span class="p">);</span> 
    
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;--------</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Error absoluto de aprox: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">err_abs</span><span class="p">(</span><span class="n">res2</span><span class="p">,</span><span class="n">res1</span><span class="p">));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Error relativo de aprox: </span><span class="si">%e</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">err_rel</span><span class="p">(</span><span class="n">err_abs</span><span class="p">(</span><span class="n">res2</span><span class="p">,</span><span class="n">res1</span><span class="p">),</span><span class="n">res1</span><span class="p">));</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>valor x a 8 dígitos: 7.1428571e-01
valor y a 8 dígitos: 3.3333333e-01
x+y a 8 dígitos 1.0476190e+00
valor x a 5 dígitos: 7.1428e-01
valor y a 5 dígitos: 3.3333e-01
x+y a 5 dígitos 1.0476e+00
--------
Error absoluto de aprox: 1.900000e-05
Error relativo de aprox: 1.813636e-05
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Ejercicio</p>
<p>Finalizar la tabla con un programa en C.</p>
<p><strong>Solución de la tabla:</strong> <a class="reference external" href="https://www.dropbox.com/scl/fi/oplgwf10lmve0fam0wvz8/respuestas.xlsx?dl=0&amp;rlkey=j3ro10hw9ptvirpn38fadvi7a">liga</a></p>
</div>
</div>
<div class="section" id="listando-algunos-problemas-tipicos-que-se-presentan-en-la-aritmetica-de-maquina-se-tienen">
<h3>Listando algunos problemas típicos que se presentan en la aritmética de máquina se tienen:<a class="headerlink" href="#listando-algunos-problemas-tipicos-que-se-presentan-en-la-aritmetica-de-maquina-se-tienen" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Problema de cancelación: pérdida de cifras significativas a partir de la resta de números similares.</p></li>
<li><p>Suma entre un número de magnitud grande y un número de magnitud pequeña.</p></li>
<li><p>Sumas con términos que involucren signos alternados.</p></li>
<li><p>Multiplicación por un número de magnitud grande.</p></li>
<li><p>División por un número de magnitud pequeña.</p></li>
</ol>
</div>
<div class="section" id="posibles-soluciones">
<h3>Posibles soluciones:<a class="headerlink" href="#posibles-soluciones" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Usar mayor precisión.</p></li>
<li><p>Reordenar operaciones.</p></li>
<li><p>Reescribir expresiones matemáticas para obtener expresiones equivalentes.</p></li>
<li><p>Escalar las variables. También funciona estandarizarlas.</p></li>
</ol>
<div class="tip admonition">
<p class="admonition-title">Ejercicios</p>
<p>1.Resuelve los ejercicios y preguntas de la nota.</p>
<p>2.Utiliza la notación posicional para representar al número <span class="math notranslate nohighlight">\(86409\)</span> y <span class="math notranslate nohighlight">\((1001.1)_2\)</span> en base <span class="math notranslate nohighlight">\(10\)</span>.</p>
<p>3.¿Cuáles de los siguientes números son números de máquina en un SPFN con <span class="math notranslate nohighlight">\(\beta=2\)</span>?</p>
<p>a. <span class="math notranslate nohighlight">\((2.125)_{10}\)</span>.</p>
<p>b. <span class="math notranslate nohighlight">\((3.1)_{10}\)</span>.</p>
<p><strong>tip: escribe los números anteriores como sumas de potencias de <span class="math notranslate nohighlight">\(2\)</span>.</strong></p>
<p>4.Considérese un SPFN con <span class="math notranslate nohighlight">\(\beta=2, k=3\)</span>. En este sistema se tienen <span class="math notranslate nohighlight">\(7\)</span> bits para almacenar números. El primer bit se utiliza para el signo del número, el segundo bit se utiliza para el signo del exponente, los dos siguientes bits para construir al exponente y el último bit para construir a la mantisa. Entonces el número positivo normalizado más pequeño que es posible representar en este SPFN es:</p>
<div class="math notranslate nohighlight">
\[(0111100)_2=(.5\times2^{-3})_{10}=.0625.\]</div>
<p>a. Escribe los siguientes números más grandes a este número que forman al SPFN hasta el valor más grande positivo que es posible representar en este SPFN.</p>
<p>b. Calcula las distancias entre los números con mismo valor de exponente.</p>
<p>c. Verifica que el error relativo para <span class="math notranslate nohighlight">\(x=0.156249\)</span> utilizando la regla de corte es menor o igual a <span class="math notranslate nohighlight">\(\epsilon_{maq}=.25\)</span> y el error relativo para <span class="math notranslate nohighlight">\(x=0.14\)</span> utilizando la regla de redondeo es menor o igual a <span class="math notranslate nohighlight">\(\epsilon_{maq}=0.125\)</span>.</p>
</div>
<p><strong>Preguntas de comprehensión</strong>.</p>
<p>1)¿Cuáles componentes definen  a un sistema de punto flotante?</p>
<p>2)Si un número tiene una representación exacta en la máquina, ¿qué nombre recibe?</p>
<p>3)¿Qué es un sistema de punto flotante normalizado?</p>
<p>4)Menciona algunas propiedades de un sistema de punto flotante normalizado.</p>
<p>5)¿Cuántos bits se utilizan en el hardware de una máquina para almacenar un número en un sistema de doble precisión?</p>
<p>6)¿Qué nombre reciben los errores que se generan por utilizar un sistema de punto flotante?</p>
<p>7)¿Cuáles reglas utiliza la máquina para dar aproximaciones a un número?</p>
<p>8)Explica con palabras la diferencia entre el epsilon de la máquina y el nivel de underflow:</p>
<p>a.¿Cuál de ellos depende únicamente del número de dígitos de la mantisa?</p>
<p>b.¿Cuál de ellos depende únicamente del número de dígitos del exponente?</p>
<p>c.¿Cuál de ellos no depende de la reglas usadas que se preguntaron en la pregunta 7?</p>
<p>9)Si calculamos un error relativo para una aproximación y resulta ser del orden de <span class="math notranslate nohighlight">\(10^{-8}\)</span> ¿alrededor de cuántos dígitos correctos tengo en mi aproximación?</p>
<p>10)Menciona algunos problemas típicos de la aritmética de máquina y algunas formas de resolverlos.</p>
<p><strong>Referencias:</strong></p>
<ol class="simple">
<li><p>R. L. Burden, J. D. Faires, Numerical Analysis, Brooks/Cole Cengage Learning, 2005.</p></li>
<li><p>M. T. Heath, Scientific Computing. An Introductory Survey, McGraw-Hill, 2002.</p></li>
<li><p><a class="reference external" href="https://github.com/palmoreck/programming-languages">Lenguaje C de programación</a>.</p></li>
</ol>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "palmoreck/dockerfiles-for-binder",
            ref: "jupyterlab_optimizacion",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./I.computo_cientifico/1.2"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../1.1/Analisis_numerico_y_computo_cientifico.html" title="previous page">1.1 Análisis numérico y cómputo científico</a>
    <a class='right-next' id="next-link" href="../1.3/Normas_vectoriales_y_matriciales.html" title="next page">1.3 Normas vectoriales y matriciales</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Erick Palacios Moreno<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
  </body>
</html>